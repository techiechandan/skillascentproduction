"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[443],{121:function(e,s,a){var t=a(9439),n=a(2791),l=a(1087),r=a(3360),i=a(9135),c=a(184);s.Z=function(e){var s=e.openState,a=e.setOpenState,d=[{logo:(0,c.jsx)(i.zTP,{}),name:"Dashboard",path:"/admin/dashboard"},{logo:(0,c.jsx)(i.wN,{}),name:"Users",path:"/admin/users"},{logo:(0,c.jsx)(i.W95,{}),name:"Course List",path:"/admin/course-list"},{logo:(0,c.jsx)(i.O3h,{}),name:"Site",path:"/admin/site-settings"},{logo:(0,c.jsx)(i.O3h,{}),name:"Query",path:"/admin/queries"}],o=(0,n.useState)(window.innerWidth),u=(0,t.Z)(o,2),m=u[0],x=u[1];return window.addEventListener("resize",(function(){x(window.innerWidth)})),(0,c.jsxs)("div",{className:m<768?"vh-100 bg-light ps-3 position-fixed start-0 bg-light":"vh-100 ps-3 bg-light sticky-top",style:s?{width:"400px",zIndex:"100000"}:m<768?{marginLeft:"-70px",transition:"0.3s"}:{width:"90px",transition:"0.3s"},children:[(0,c.jsxs)("div",{className:"ps-3 pt-2 mb-0 wrap-element d-flex align-items-center ",children:[(0,c.jsx)("span",{className:"fs-3 mb-1 text-primary me-2",children:(0,c.jsx)(i.lRh,{})}),(0,c.jsx)("span",{className:"fs-3 fw-bold text-primary me-auto",style:s?{display:"block"}:{display:"none"},children:"Skill Ascent"}),s&&m<768&&(0,c.jsx)(r.Z,{className:"p-2 pt-0 me-2 fs-4 bg-transparent text-danger border-0 ",onClick:function(){a(!s)},children:(0,c.jsx)(i.jw0,{})})]}),(0,c.jsx)("ul",{className:"p-0",children:d.map((function(e,a){return(0,c.jsx)("li",{className:" py-1 my-2 wrap-element",children:(0,c.jsxs)(l.rU,{to:e.path,className:"d-flex align-items-center ps-3 text-dark wrap-element",children:[(0,c.jsx)("span",{className:"fs-4 me-2 pb-1",children:e.logo}),(0,c.jsx)("span",{className:"fs-5",style:s?{display:"block"}:{display:"none",transition:"0.3s"},children:e.name})]})},a)}))})]})}},2443:function(e,s,a){a.r(s);var t=a(4165),n=a(3433),l=a(5861),r=a(9439),i=a(2791),c=a(3360),d=a(2591),o=a(5316),u=a(3027),m=a(4849),x=a(3345),h=a(1243),p=a(4054),j=a(4459),v=a(375),f=a(9135),Z=a(121),b=a(184);s.default=function(){var e=(0,i.useState)([]),s=(0,r.Z)(e,2),a=s[0],N=s[1],g=(0,i.useState)(!1),y=(0,r.Z)(g,2),w=y[0],C=y[1],S=(0,i.useState)(!1),k=(0,r.Z)(S,2),B=k[0],A=k[1],E=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.get("".concat(v.Z,"/admin/users/api"));case 3:s=e.sent,N((0,n.Z)(s.data.usersList)),A(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),A(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),L=(0,i.useState)([]),O=(0,r.Z)(L,2),U=O[0],_=O[1],I=(0,i.useState)([]),P=(0,r.Z)(I,2),T=P[0],z=P[1],H=[{value:"BCA",label:"BCA"},{value:"BBA",label:"BBA"},{value:"BJMC",label:"BJMC"},{value:"B.COM",label:"B.COM"},{value:"B.TECH",label:"B.TECH"}],M=U.map((function(e){return{value:e.name,label:e.name}})),V=[{value:"user",label:"user"},{value:"admin",label:"admin"},{value:"super_admin",label:"super_admin"}],W=(0,i.useState)(""),D=(0,r.Z)(W,2),G=D[0],R=D[1],F=(0,i.useState)(""),J=(0,r.Z)(F,2),q=J[0],Q=J[1],K=(0,i.useState)(""),X=(0,r.Z)(K,2),Y=X[0],$=X[1],ee=(0,i.useState)(""),se=(0,r.Z)(ee,2),ae=se[0],te=se[1],ne=(0,i.useState)(""),le=(0,r.Z)(ne,2),re=le[0],ie=le[1],ce=(0,i.useState)(""),de=(0,r.Z)(ce,2),oe=de[0],ue=de[1],me=(0,i.useState)([]),xe=(0,r.Z)(me,2),he=xe[0],pe=xe[1],je=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.post("".concat(v.Z,"/admin/update/users/deatils/api"),{id:G,name:q,email:Y,course:ae,state:re,city:oe,roles:he});case 3:200===(s=e.sent).status&&alert(s.data.message),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),alert(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.delete("".concat(v.Z,"/admin/user/delete/").concat(s,"/api"));case 3:200===(a=e.sent).status&&alert(a.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(s){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){_(j.ZP.getStatesOfCountry("IN")),E()}),[]);var fe=(0,i.useState)(!0),Ze=(0,r.Z)(fe,2),be=Ze[0],Ne=Ze[1];return(0,b.jsxs)("div",{className:"d-flex p-0",children:[(0,b.jsx)(Z.Z,{openState:be,setOpenState:Ne}),(0,b.jsxs)("div",{className:"container-fluid vh-100 m-0 px-0 ",style:{backgroundColor:"#ececec",width:"100%"},children:[(0,b.jsxs)("div",{className:"container-fluid d-flex py-2 align-items-center sticky-top bg-light",children:[(0,b.jsx)(c.Z,{className:"p-2 pt-0 me-2 fs-4 bg-transparent text-danger border-0 ",onClick:function(){Ne(!be)},children:(0,b.jsx)(f.jw0,{})}),(0,b.jsx)("h5",{children:"Users"})]}),(0,b.jsxs)("div",{className:" p-4 pt-2 my-3",children:[B?(0,b.jsxs)(d.Z,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"success",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-center",children:"SN"}),(0,b.jsx)("th",{className:"text-center",children:"ID"}),(0,b.jsx)("th",{className:"text-center",children:"Name"}),(0,b.jsx)("th",{className:"text-center",children:"Email"}),(0,b.jsx)("th",{className:"text-center",children:"Role"}),(0,b.jsx)("th",{className:"text-center",children:"Action"})]})}),(0,b.jsx)("tbody",{children:a.length>0&&a.map((function(e,s){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"text-center",children:s+1}),(0,b.jsx)("td",{className:"text-center",children:e._id}),(0,b.jsx)("td",{className:"text-center",children:e.name}),(0,b.jsx)("td",{className:"text-center",children:e.email}),(0,b.jsx)("td",{className:"text-center",children:e.roles.includes("super_admin")?"Super Admin":e.roles.includes("admin")?"Admin":"User"}),(0,b.jsxs)("td",{className:"text-center",children:[(0,b.jsx)(c.Z,{variant:"success me-md-2 mb-md-0 mb-1",onClick:function(){C(!w),function(e){var s=U.find((function(s){return s.name===a[e].state})).isoCode;z(p.Z.getCitiesOfState("IN",s).map((function(e){return{value:e.name,label:e.name}}))),R(a[e]._id),Q(a[e].name),$(a[e].email),te(a[e].course),ie(a[e].state),ue(a[e].city),pe([a[e].roles[0],a[e].roles[1],a[e].roles[2]])}(s)},children:"Edit"}),(0,b.jsx)(c.Z,{variant:"danger",onClick:function(){ve(e._id)},children:"Delete"})]})]},s)}))})]}):(0,b.jsxs)("div",{className:"d-flex flex-column pt-5 justify-content-center align-items-center",children:[(0,b.jsx)(m.Z,{animation:"border",variant:"primary"}),(0,b.jsx)("p",{className:"fw-bold fs-5",children:"Please wait..."})]}),(0,b.jsxs)(o.Z,{show:w,onHide:function(){C(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,b.jsx)(o.Z.Header,{closeButton:!0,children:(0,b.jsx)(o.Z.Title,{id:"contained-modal-title-vcenter",className:"fs-md-5",children:"Update user details"})}),(0,b.jsx)(o.Z.Body,{children:(0,b.jsxs)(u.Z,{className:"border  p-4  rounded",children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-md-5 col-12",children:(0,b.jsxs)(u.Z.Group,{className:"mb-3",controlId:"formBasicText",children:[(0,b.jsx)(u.Z.Label,{children:"Full Name"}),(0,b.jsx)(u.Z.Control,{type:"text",placeholder:"Enter full name",value:q,onChange:function(e){Q(e.target.value)}})]})}),(0,b.jsx)("div",{className:"col-md-7 col-12",children:(0,b.jsxs)(u.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,b.jsx)(u.Z.Label,{children:"Email address"}),(0,b.jsx)(u.Z.Control,{type:"email",placeholder:"Enter email",value:Y,onChange:function(e){$(e.target.value)}}),(0,b.jsx)(u.Z.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]})})]}),(0,b.jsxs)("div",{className:"row m-0 p-0",children:[(0,b.jsx)("div",{className:"col-md-4 col-12 m-0 p-0 me-md-1",children:(0,b.jsxs)(u.Z.Group,{className:"mb-3",controlId:"",children:[(0,b.jsx)(u.Z.Label,{children:"Course"}),(0,b.jsx)(x.ZP,{value:H.value,options:H,defaultValue:{value:ae,label:ae},onChange:function(e){te(e.value)}})]})}),(0,b.jsx)("div",{className:"col-md-7 col-12 m-0 p-0",children:(0,b.jsxs)("div",{className:"row p-0 m-0",children:[(0,b.jsxs)("div",{className:"col-6 p-0",children:[(0,b.jsx)(u.Z.Label,{children:"State"}),(0,b.jsx)(x.ZP,{value:M.value,options:M,defaultValue:{value:re,label:re},onChange:function(e){ie(e.value)}})]}),(0,b.jsxs)("div",{className:"col-6 ps-1",children:[(0,b.jsx)(u.Z.Label,{children:"City"}),(0,b.jsx)(x.ZP,{value:T.value,options:T,defaultValue:{value:oe,label:oe},onChange:function(e){ue(e.value)}})]})]})})]}),(0,b.jsx)("div",{className:"row",children:(0,b.jsxs)("div",{className:"col-md-6 md-12 m-0 p-0 ps-3",children:[(0,b.jsx)(u.Z.Label,{children:"Role"}),(0,b.jsx)(x.ZP,{value:V.value,options:V,defaultValue:{value:he.includes("super_admin")?"Super Admin":he.includes("admin")?"Admin":"User",label:he.includes("super_admin")?"Super Admin":he.includes("admin")?"Admin":"User"},onChange:function(e){pe([e.value])}})]})})]})}),(0,b.jsxs)(o.Z.Footer,{children:[(0,b.jsx)(c.Z,{variant:"danger",onClick:function(){C(!1)},children:"Close"}),(0,b.jsx)(c.Z,{onClick:function(){je()},children:"Update"})]})]})]})]})]})}}}]);
//# sourceMappingURL=443.e32627b1.chunk.js.map